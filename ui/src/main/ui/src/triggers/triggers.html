
<div class="container-fluid container-cards-pf" ng-controller="hwk.triggersController">
    <div class="row" ng-show="selectedTenant != null && selectedTenant != ''">
      <div class="col-md-12">
        <div class="list-group list-view-pf">
          <div class="list-group-item" ng-repeat="t in triggers | startFrom: (pageNumber - 1) * pageSize | limitTo: (pageSize ? pageSize : 5)">
            <div class="list-view-pf-actions">
              <button class="btn btn-default">Action</button>
              <div class="dropdown pull-right dropdown-kebab-pf">
                <button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight15" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  <span class="fa fa-ellipsis-v"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight15">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="#">Separated link</a></li>
                </ul>
              </div>
            </div>
            <div class="list-view-pf-main-info">
              <div class="list-view-pf-left">
                <span class="fa fa-flash list-view-pf-icon-lg"></span>
              </div>
              <div class="list-view-pf-body">
                <div class="list-view-pf-description">
                  <div class="list-group-item-heading">
                    {{ t.trigger.name }}
                    <small><b>{{ t.trigger.id }}</b></small>
                    <small>{{ t.trigger.description }}</small>
                  </div>
                  <div class="list-group-item-text">
                    <dl class="dl-horizontal">
                      <dt>Conditions</dt>
                      <dd></dd>
                      <dt ng-repeat-start="c in t.conditions"></dt>
                      <dd ng-repeat-end>
                        <div ng-show="c.type == 'THRESHOLD'">{{ c.triggerMode }} when {{ c.dataId }} {{ c.operator }} {{ c.threshold }}</div>
                        <div ng-show="c.type == 'AVAILABILITY'">{{ c.triggerMode }} when {{ c.dataId }} is {{ c.operator }}</div>
                        <div ng-show="c.type == 'EVENT'">{{ c.triggerMode }} when {{ c.dataId }} matches [ {{ c.expression }} ]</div>
                        <div ng-show="c.type == 'EXTERNAL'">{{ c.triggerMode }} when {{ c.dataId }} on Alerter [ {{ c.alerterId }} ] evaluates [ {{ c.expression }} ]</div>
                      </dd>
                    </dl>
                    <dl class="dl-horizontal" ng-show="t.trigger.actions != null">
                      <dt>Actions</dt>
                      <dd></dd>
                      <dt ng-repeat-start="a in t.trigger.actions">
                        <span class="fa fa-envelope list-view-pf-icon-lg" ng-show="a.actionPlugin == 'email'"></span>
                        <span class="fa fa-code list-view-pf-icon-lg" ng-show="a.actionPlugin == 'webhook'"></span>
                      </dt>
                      <dd ng-repeat-end>{{ a.actionId }}</dd>
                    </dl>
                    <dl class="dl-horizontal" ng-show="t.trigger.tags != null">
                      <dt>Tags</dt>
                      <dd></dd>
                      <dt ng-repeat-start="(key, value) in t.trigger.tags">{{ key }}</dt>
                      <dd ng-repeat-end>{{ value }}</dd>
                    </dl>
                    <dl class="dl-horizontal" ng-show="t.trigger.context != null">
                      <dt>Context</dt>
                      <dd></dd>
                      <dt ng-repeat-start="(key, value) in t.trigger.actions">{{ key }}</dt>
                      <dd ng-repeat-end>{{ value }}</dd>
                    </dl>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12">
        <form class="form-inline" role="form">
          <div class="form-group">
            <input class="form-control pagination-pf-pagesize" type="text" ng-model="pageSize" />
            <span> per page</span>
          </div>
          <div class="form-group pull-right">
            <ul class="pagination pagination-sm pagination-pf-controls">
              <li>
                <a ng-click="pageNumber = 1">
                  <span class="i fa fa-angle-double-left"></span>
                </a>
              </li>
              <li>
                <a ng-click="pageNumber = pageNumber > 1 ? pageNumber - 1 : 1">
                  <span class="i fa fa-angle-left"></span>
                </a>
              </li>
              <li>
                <a ng-click="pageNumber = pageNumber < maxPages ? pageNumber + 1 : maxPages">
                  <span class="i fa fa-angle-right"></span>
                </a>
              </li>
              <li>
                <a ng-click="pageNumber = maxPages">
                  <span class="i fa fa-angle-double-right"></span>
                </a>
              </li>
            </ul>
          </div>
          <div class="form-group pull-right pagination-pf-pages">
            <span><b>{{ fromItem }}-{{ toItem }} of {{ numTotalItems }}</b></span>
          </div>
        </form>
      </div>
    </div>
    <div class="row row-cards-pf" ng-show="selectedTenant == null || selectedTenant == ''">
    <div class="col-md-12">
      <div class="card-pf">
        <div class="card-pf-heading">
          <p class="card-pf-heading-details"></p>
          <h2 class="card-pf-title">
            Select a Tenant
          </h2>
        </div>
        <div class="card-pf-body">
          Use the upper right form to select a tenant which fetch data from Hawkular Alerting.
        </div>
      </div>
    </div>
  </div>
</div><!-- /container -->
